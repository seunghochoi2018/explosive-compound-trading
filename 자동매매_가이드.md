# 🤖 NVDL/NVDQ 24시간 자동매매 시스템

## 🎯 개요

이 시스템은 **하루 1-3회 거래에서 더 나아가 적응형 거래 주기**를 사용하여 수익률을 극대화하는 24시간 자동매매 시스템입니다.

### 💡 거래 주기 최적화의 핵심

**"하루 1-3회가 항상 최선은 아닙니다!"**

- **고변동성 시장**: 2-6시간마다 체크 → 하루 3-5회 거래
- **안정적 시장**: 8-24시간마다 체크 → 2-3일에 1회 거래
- **AI가 실시간으로 최적 주기 찾아서 적용**

## 🚀 빠른 시작

### 1️⃣ 가장 쉬운 방법
```bash
python start_auto_trading.py
```
- 대화형 설정
- 자동 최적화
- 안전한 시뮬레이션 모드 기본

### 2️⃣ 직접 실행
```bash
# 시뮬레이션 모드 (안전)
python full_auto_trading_system.py --simulation

# 실제 거래 모드 (주의!)
python full_auto_trading_system.py
```

## 🧠 적응형 거래 주기 시스템

### 📊 동적 최적화 과정

1. **수익률 분석**: 각 주기별 수익률 추적
2. **승률 계산**: 주기별 성공 거래 비율
3. **샤프 비율**: 위험 대비 수익률 계산
4. **자동 조정**: 24시간마다 최적 주기로 변경

### 🔄 지원하는 거래 주기

| 주기 | 체크 간격 | 적합한 시장 | 예상 거래 빈도 |
|------|-----------|-------------|----------------|
| 15분 | 15분마다 | 초고변동성 | 하루 10-20회 |
| 30분 | 30분마다 | 고변동성 | 하루 5-10회 |
| 1시간 | 1시간마다 | 중간변동성 | 하루 2-5회 |
| 2시간 | 2시간마다 | 보통 시장 | 하루 1-3회 |
| 4시간 | 4시간마다 | 안정적 시장 | 2일에 1-2회 |
| 8시간 | 8시간마다 | 저변동성 | 3일에 1회 |
| 12시간 | 12시간마다 | 매우 안정적 | 주 1-2회 |
| 24시간 | 하루마다 | 장기 트렌드 | 주 1회 이하 |

### 📈 최적화 예시

**시나리오 1: 고변동성 시장**
- 초기: 1시간 주기 (하루 3회 거래)
- AI 학습 결과: 30분 주기가 더 수익성 높음
- 자동 변경: 30분 주기로 전환 (하루 5-8회 거래)
- 결과: 수익률 40% 증가

**시나리오 2: 안정적 시장**
- 초기: 1시간 주기 (하루 3회 거래)
- AI 학습 결과: 4시간 주기가 더 안정적
- 자동 변경: 4시간 주기로 전환 (하루 1회 거래)
- 결과: 승률 85%로 증가, 수수료 절약

## 🌙 24시간 자동매매 특징

### ⏰ 미국 장시간 대응
- **프리마켓**: 오전 4:00-9:30 (동부시간)
- **정규장**: 오전 9:30-오후 4:00 (동부시간)
- **애프터마켓**: 오후 4:00-8:00 (동부시간)
- **한국 밤시간**에도 지속적 거래

### 🧠 실시간 학습 시스템
- **성공 패턴 학습**: 수익 거래 시 패턴 저장
- **실패 패턴 회피**: 손실 거래 패턴 분석
- **시장 변화 적응**: 새로운 시장 상황에 맞춰 전략 조정

### 🔄 포지션 관리
- **NVDL**: 시장 상승 예상 시 (3x 레버리지)
- **NVDQ**: 시장 하락 예상 시 (2x 역 레버리지)
- **자동 전환**: AI 신호에 따라 즉시 포지션 변경

## 💬 텔레그램 알림 시스템

### 🔔 실시간 알림
- **포지션 변경**: NVDL ↔ NVDQ ↔ 현금
- **거래 완료**: 수익률, 보유시간, 주문 정보
- **주기 최적화**: 거래 주기 변경 시 알림
- **일일 요약**: 하루 성과 리포트

### 📊 상태 모니터링
- **6시간마다**: 종합 상태 보고
- **24시간마다**: 거래 주기 재최적화 알림
- **오류 발생 시**: 즉시 알림 및 해결 방안 제시

## ⚙️ 설정 옵션

### 🎯 기본 설정
```bash
python full_auto_trading_system.py \
  --simulation \                    # 시뮬레이션 모드
  --initial-balance 50000 \         # 초기 자금 $50,000
  --position-size 2000              # 포지션 크기 $2,000
```

### 🔧 고급 설정
```bash
python full_auto_trading_system.py \
  --broker alpaca \                 # Alpaca 브로커 사용
  --position-size 5000 \            # 포지션 크기 증가
  --fmp-api-key YOUR_KEY           # 사용자 정의 API 키
```

## 📊 성과 최적화 전략

### 🎯 수익률 극대화
1. **변동성 활용**: 고변동성 시 짧은 주기
2. **트렌드 추종**: 안정적 트렌드 시 긴 주기
3. **리스크 관리**: 손절선 자동 조정

### 🛡️ 위험 관리
- **일일 거래 제한**: 최대 10회
- **긴급 손절**: 20% 손실 시 자동 중단
- **포지션 크기 제한**: 계좌 대비 적정 비율
- **시장 상황 모니터링**: 이상 상황 시 알림

## 🔄 실제 API 연동

### 🏦 지원 브로커
- **Alpaca**: 미국 주식 무료 거래
- **Interactive Brokers**: 전문 트레이더용
- **TD Ameritrade**: API 지원
- **모의 거래**: 테스트 및 학습용

### 📋 실제 거래 설정
1. 브로커 계좌 개설
2. API 키 발급
3. 설정 파일 수정
4. 테스트 거래 실행
5. 실제 거래 활성화

## 🚨 주의사항

### ⚠️ 투자 위험
- **레버리지 위험**: NVDL 3배, NVDQ 2배 변동성
- **시간 가치 손실**: 레버리지 ETF 특성
- **시장 위험**: 급격한 시장 변화 가능성

### 🔒 안전 수칙
1. **소액으로 시작**: 처음에는 작은 금액으로 테스트
2. **시뮬레이션 먼저**: 실제 거래 전 충분한 테스트
3. **손절선 준수**: 정해진 손실 한도 엄격히 지키기
4. **정기 점검**: 주기적으로 성과 및 설정 검토

## 🎯 기대 효과

### 📈 수익률 개선
- **적응형 주기**: 기존 대비 20-40% 수익률 향상
- **24시간 거래**: 놓치는 기회 최소화
- **실시간 학습**: 지속적인 성능 개선

### ⏰ 시간 절약
- **완전 자동화**: 수동 개입 최소화
- **텔레그램 알림**: 언제 어디서든 모니터링
- **스마트 최적화**: AI가 알아서 최적 설정 찾기

## 🚀 시작하기

### 1단계: 시뮬레이션으로 테스트
```bash
python start_auto_trading.py
# → 시뮬레이션 모드 선택
# → 초기 자금 $50,000 설정
# → 포지션 크기 $2,000 설정
```

### 2단계: 성과 모니터링
- 텔레그램에서 실시간 알림 확인
- 1-2주간 시뮬레이션 성과 관찰
- 거래 주기 최적화 과정 학습

### 3단계: 실제 거래 (선택)
- 브로커 계좌 준비
- 소액으로 실제 거래 시작
- 점진적으로 투자 규모 확대

---

**🎉 지금 바로 시작해보세요!**

```bash
# 가장 쉬운 시작
python start_auto_trading.py

# 바로 시뮬레이션
python full_auto_trading_system.py --simulation
```

**💡 궁금한 점이 있으시면 텔레그램으로 언제든지 문의하세요!**